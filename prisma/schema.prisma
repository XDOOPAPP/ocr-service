generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model OcrJob {
  id           String    @id @default(uuid()) @db.Uuid
  userId       String // Changed from @db.Uuid to String to support MongoDB ObjectIds
  status       String    @default("queued") // queued | processing | completed | failed
  fileUrl      String
  resultJson   Json?
  errorMessage String?
  createdAt    DateTime  @default(now()) @db.Timestamptz(6)
  completedAt  DateTime? @db.Timestamptz(6)

  @@index([userId, status])
}
